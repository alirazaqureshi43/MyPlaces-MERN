import{j as e,L as m,r as c,a as h}from"./index-DAs0rZAi.js";import{C as n}from"./Card-3b1735Y7.js";import{u as o,E as j}from"./http-hook-iPg4NjC-.js";const u=s=>e.jsx("div",{className:`avatar ${s.className}`,style:s.style,children:e.jsx("img",{src:s.image,alt:s.alt,style:{width:s.width,height:s.width}})}),x=s=>e.jsx("li",{className:"user-item",children:e.jsx(n,{className:"user-item__content",children:e.jsxs(m,{to:`/${s.id}/places`,children:[e.jsx("div",{className:"user-item__image",children:e.jsx(u,{image:`https://my-place-backend-168epwqz4-alirazaqureshi43s-projects.vercel.app/${s.image}`,alt:s.name})}),e.jsxs("div",{className:"user-item__info",children:[e.jsx("h2",{children:s.name}),e.jsxs("h3",{children:[s.placeCount," ",s.placeCount===1?"Place":"Places"]})]})]})})}),g=s=>(console.log(s.items),s.items.length===0?e.jsx("div",{className:"center",children:e.jsx(n,{children:e.jsx("h2",{children:"No Users Founds"})})}):e.jsx("ul",{className:"users-list",children:s.items.map(a=>e.jsx(x,{id:a.id,image:a.image,name:a.name,placeCount:a.places.length},a.id))})),U=()=>{const[s,a]=c.useState([]),{isLoading:t,error:l,sendRequest:r,clearError:d}=o();return c.useEffect(()=>{(async()=>{try{const i=await r("https://my-place-backend-168epwqz4-alirazaqureshi43s-projects.vercel.app/api/users");a(i.users)}catch{}})()},[r]),e.jsxs(e.Fragment,{children:[e.jsx(j,{error:l,onClear:d}),t&&e.jsx("div",{className:"center",children:e.jsx(h,{asOverlay:!0})}),!t&&s&&e.jsx(g,{items:s})]})};export{U as default};
