import{j as e,L as m,r as n,a as h}from"./index-BBY7Hu33.js";import{C as l}from"./Card-QDGsE82P.js";import{u as o,E as x}from"./http-hook-BaJhmCFA.js";const j=s=>e.jsx("div",{className:`avatar ${s.className}`,style:s.style,children:e.jsx("img",{src:s.image,alt:s.alt,style:{width:s.width,height:s.width}})}),u=s=>e.jsx("li",{className:"user-item",children:e.jsx(l,{className:"user-item__content",children:e.jsxs(m,{to:`/${s.id}/places`,children:[e.jsx("div",{className:"user-item__image",children:e.jsx(j,{image:`http://localhost:5000/${s.image}`,alt:s.name})}),e.jsxs("div",{className:"user-item__info",children:[e.jsx("h2",{children:s.name}),e.jsxs("h3",{children:[s.placeCount," ",s.placeCount===1?"Place":"Places"]})]})]})})}),g=s=>(console.log(s.items),s.items.length===0?e.jsx("div",{className:"center",children:e.jsx(l,{children:e.jsx("h2",{children:"No Users Founds"})})}):e.jsx("ul",{className:"users-list",children:s.items.map(t=>e.jsx(u,{id:t.id,image:t.image,name:t.name,placeCount:t.places.length},t.id))})),C=()=>{const[s,t]=n.useState([]),{isLoading:a,error:c,sendRequest:r,clearError:d}=o();return n.useEffect(()=>{(async()=>{try{const i=await r("http://localhost:5000/api/users");t(i.users)}catch{}})()},[r]),e.jsxs(e.Fragment,{children:[e.jsx(x,{error:c,onClear:d}),a&&e.jsx("div",{className:"center",children:e.jsx(h,{asOverlay:!0})}),!a&&s&&e.jsx(g,{items:s})]})};export{C as default};
