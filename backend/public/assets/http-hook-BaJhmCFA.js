import{j as t,L as j,R as C,B as g,C as E,c as $,r}from"./index-BBY7Hu33.js";const v=e=>e.href?t.jsx("a",{className:`button button--${e.size||"default"} ${e.inverse&&"button--inverse"} ${e.danger&&"button--danger"}`,href:e.href,children:e.children}):e.to?t.jsx(j,{to:e.to,exact:e.exact,className:`button button--${e.size||"default"} ${e.inverse&&"button--inverse"} ${e.danger&&"button--danger"}`,children:e.children}):t.jsx("button",{className:`button button--${e.size||"default"} ${e.inverse&&"button--inverse"} ${e.danger&&"button--danger"}`,type:e.type,onClick:e.onClick,disabled:e.disabled,children:e.children}),k=e=>{const n=t.jsxs("div",{className:`modal ${e.className}`,style:e.style,children:[t.jsx("header",{className:`modal__header ${e.headerClass}`,children:t.jsx("h2",{children:e.header})}),t.jsxs("form",{onSubmit:e.onSubmit?e.onSubmit:l=>l.preventDefault(),children:[t.jsx("div",{className:`modal__content ${e.contentClass}`,children:e.children}),t.jsx("footer",{className:`modal__footer ${e.footerClass}`,children:e.footer})]})]});return $.createPortal(n,document.getElementById("modal-hook"))},w=e=>t.jsxs(C.Fragment,{children:[e.show&&t.jsx(g,{onClick:e.onCancel}),t.jsx(E,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal",children:t.jsx(k,{...e})})]}),N=e=>t.jsx(w,{onCancel:e.onClear,header:"An Error Occurred!",show:!!e.error,footer:t.jsx(v,{onClick:e.onClear,children:"Okay"}),children:t.jsx("p",{children:e.error})}),R=()=>{const[e,n]=r.useState(!1),[l,u]=r.useState(),s=r.useRef([]),d=r.useCallback(async(c,m="GET",f=null,x={})=>{n(!0);const o=new AbortController;s.current.push(o);try{const a=await fetch(c,{method:m,body:f,headers:x,signal:o.signal}),i=await a.json();if(s.current=s.current.filter(b=>b!==o),console.log(i),!a.ok)throw new Error(i.message);return n(!1),i}catch(a){throw u(a.message),n(!1),a}},[]),h=()=>{u(null)};return r.useEffect(()=>()=>{s.current.forEach(c=>c.abort())},[]),{isLoading:e,error:l,sendRequest:d,clearError:h}};export{v as B,N as E,w as M,R as u};
